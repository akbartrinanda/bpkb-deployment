(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{"E/iy":function(l,n,u){"use strict";u.r(n);var e=u("8Y7J"),t=u("K7hc"),s=u("s7LF"),i=u("XNiG"),r=u("1G5W"),a=u("Rxik");class o{constructor(l,n,u,e,s){this.router=l,this._fb=n,this._searchService=u,this.branchService=e,this.modalService=s,this.submitted=!1,this.isHidden=!0,this.ngUnsubscribe=new i.a,this.isFound=!0,this.isRegistered=!0,this.userNotFound=`${a.a.settings.messages.addUser.userNotFound}`,this.userRegistered=`${a.a.settings.messages.addUser.userRegistered}`,this.fieldMandatory=`${a.a.settings.messages.addUser.fieldMandatory}`,this.branchList=[],this.users=[],this.roles=[],this.branches=[],this.page=1,this.basePath=t.a.basePath}ngOnInit(){this.isLoading(!0),this._searchService.getAllUsers().subscribe(l=>{this.users=l,this.isLoading(!1)}),this._searchService.getAllRoles().subscribe(l=>{this.roles=l}),this.branchService.get().subscribe(l=>{this.branches=l}),this.form=this._fb.group({userId:["",s.x.required]})}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete(),this.isLoading(!1)}getRoleName(l){const n=this.roles.filter(n=>n.r_object_id==l);return n.length>0?n[0].role:"Tidak Ada"}getBranchName(l){const n=this.branches.filter(n=>n.id==l);return n.length>0?n[0].name:"Tidak Ada"}doSearch(){this.isLoading(!0),this._searchService.getAllUsers(this.form.value.userId).subscribe(l=>{this.users=l,this.isLoading(!1)})}doDelete(){this._searchService.deleteUserNew(this.selectedUsername)}onSubmit(){if(!this.form.valid)return this.submitted=!0,this.isHidden=!1,this.isFound=!0,void(this.isRegistered=!0);this.isLoading(!0),this._searchService.getUserUAC(this.form.value.userId).pipe(Object(r.a)(this.ngUnsubscribe)).subscribe(l=>{this._searchService.getUser(this.form.value.userId).pipe(Object(r.a)(this.ngUnsubscribe)).subscribe(l=>{this.isHidden=!1,this.isFound=!0,this.isRegistered=!1,this.isLoading(!1)},n=>{this.isHidden=!1,this.isFound=!0,this.isRegistered=!0;let u={userID:this.form.value.userId};sessionStorage.setItem("data-user-search",JSON.stringify(l)),sessionStorage.setItem("user-search",JSON.stringify(u)),this.router.navigateByUrl(`${this.basePath}/add-user`,{state:{userId:this.form.value.userId}}),this.isLoading(!1),console.log(l)})},l=>{this.isHidden=!1,this.isFound=!1,this.isRegistered=!0,this.isLoading(!1)})}modalConfirm(l,n){this.selectedUsername=n,this.modalService.open(l)}isLoading(l){l?this.modalService.open(this.loader,{backdrop:"static",centered:!0,keyboard:!1}).result.then(l=>{},l=>{}):this.modalService.dismissAll()}}class b{}var c=u("pMnS"),d=u("9AJC"),h=u("iInd"),p=u("SVse"),g=u("xkgV"),m=u("abRS"),f=u("C7Jo"),v=u("pEsw"),J=u("G0yt"),z=e.xb({encapsulation:0,styles:[['.has-error[_ngcontent-%COMP%]{border:2px solid #d50000!important}.has-error[_ngcontent-%COMP%]::-webkit-input-placeholder{color:#d50000}.has-error[_ngcontent-%COMP%]::-moz-placeholder{color:#d50000}.has-error[_ngcontent-%COMP%]::-ms-input-placeholder{color:#d50000}.has-error[_ngcontent-%COMP%]::placeholder{color:#d50000}.dea-tooltiptext[_ngcontent-%COMP%]{width:200px;background-color:#d50000;color:#fff;text-align:center;border-radius:6px;padding:5px 0;position:absolute;z-index:1;top:-5px;left:110%}.dea-tooltiptext[_ngcontent-%COMP%]::after{content:"";position:absolute;top:50%;right:100%;margin-top:-5px;border-width:5px;border-style:solid;border-color:transparent #d50000 transparent transparent}']],data:{}});function S(l){return e.Ub(0,[(l()(),e.zb(0,0,null,null,20,"tr",[],null,null,null,null,null)),(l()(),e.zb(1,0,null,null,7,"td",[],null,null,null,null,null)),(l()(),e.zb(2,0,null,null,3,"a",[["href","javascript: void(0);"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==e.Lb(l,3).onClick(u.button,u.ctrlKey,u.metaKey,u.shiftKey)&&t),t}),null,null)),e.yb(3,671744,null,0,h.n,[h.k,h.a,p.k],{state:[0,"state"],routerLink:[1,"routerLink"]},null),e.Nb(4,{data:0}),(l()(),e.zb(5,0,null,null,0,"i",[["class","fa fa-pencil-alt"]],null,null,null,null,null)),(l()(),e.zb(6,0,null,null,0,"span",[["class","ml-2"]],null,null,null,null,null)),(l()(),e.zb(7,0,null,null,1,"a",[["href","javascript: void(0);"]],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.modalConfirm(e.Lb(l.parent,65),l.context.$implicit.USER_LOGIN_NAME)&&t),t}),null,null)),(l()(),e.zb(8,0,null,null,0,"i",[["class","fa fa-trash"]],null,null,null,null,null)),(l()(),e.zb(9,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e.Sb(10,null,["",""])),(l()(),e.zb(11,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e.Sb(12,null,["",""])),(l()(),e.zb(13,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e.Sb(14,null,["",""])),(l()(),e.zb(15,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e.Sb(16,null,["",""])),(l()(),e.zb(17,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e.Sb(18,null,["",""])),(l()(),e.zb(19,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),e.Sb(20,null,["",""]))],(function(l,n){var u=n.component,t=l(n,4,0,n.context.$implicit);l(n,3,0,t,e.Db(1,"",u.basePath,"/view-update-user"))}),(function(l,n){var u=n.component;l(n,2,0,e.Lb(n,3).target,e.Lb(n,3).href),l(n,10,0,n.context.$implicit.USER_LOGIN_NAME),l(n,12,0,n.context.$implicit.USER_NAME),l(n,14,0,n.context.$implicit.USER_ADDRESS),l(n,16,0,n.context.$implicit.DEPARTMENT),l(n,18,0,u.getBranchName(n.context.$implicit.BRANCH_ID)),l(n,20,0,u.getRoleName(n.context.$implicit.ROLE))}))}function y(l){return e.Ub(0,[(l()(),e.zb(0,0,null,null,1,"div",[["class","modal-body dea-modal-content dea-loaderBG"]],null,null,null,null,null)),(l()(),e.zb(1,0,null,null,0,"img",[["src","assets/img/dea_loading.gif"]],null,null,null,null,null))],null,null)}function L(l){return e.Ub(0,[(l()(),e.zb(0,0,null,null,6,"div",[["class","modal-body"]],null,null,null,null,null)),(l()(),e.zb(1,0,null,null,2,"h4",[],null,null,null,null,null)),(l()(),e.zb(2,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),e.Sb(3,null,["Hapus User ",""])),(l()(),e.zb(4,0,null,null,0,"div",[["class","dea-space2"]],null,null,null,null,null)),(l()(),e.zb(5,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),e.Sb(-1,null,["Apakah anda yakin?"])),(l()(),e.zb(7,0,null,null,4,"div",[["class","modal-footer"]],null,null,null,null,null)),(l()(),e.zb(8,0,null,null,1,"button",[["class","btn btn-outline-primary dea-viewDocument-btnNo"],["type","button"]],null,[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.context.$implicit.close("close")&&e),e}),null,null)),(l()(),e.Sb(-1,null,[" TIDAK "])),(l()(),e.zb(10,0,null,null,1,"button",[["class","btn btn-primary dea-viewDocument-btnYes"],["type","button"]],null,[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.context.$implicit.close(l.component.doDelete())&&e),e}),null,null)),(l()(),e.Sb(-1,null,[" YA "]))],null,(function(l,n){l(n,3,0,n.component.selectedUsername)}))}function k(l){return e.Ub(0,[e.Qb(402653184,1,{loader:0}),(l()(),e.zb(1,0,null,null,62,"div",[["class","app-content overflow-auto"]],null,null,null,null,null)),(l()(),e.zb(2,0,null,null,61,"div",[["class","dea-container pt-3"]],null,null,null,null,null)),(l()(),e.zb(3,0,null,null,60,"div",[["class","col mt-2 px-3"]],null,null,null,null,null)),(l()(),e.zb(4,0,null,null,2,"h5",[["class","mt-2"]],null,null,null,null,null)),(l()(),e.zb(5,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),e.Sb(-1,null,["User"])),(l()(),e.zb(7,0,null,null,30,"div",[["class","row px-3 my-2"]],null,null,null,null,null)),(l()(),e.zb(8,0,null,null,4,"div",[["class","col px-0"]],null,null,null,null,null)),(l()(),e.zb(9,0,null,null,3,"a",[["class","btn btn-primary"],["href","javascript: void(0);"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==e.Lb(l,10).onClick(u.button,u.ctrlKey,u.metaKey,u.shiftKey)&&t),t}),null,null)),e.yb(10,671744,null,0,h.n,[h.k,h.a,p.k],{routerLink:[0,"routerLink"]},null),(l()(),e.zb(11,0,null,null,0,"i",[["class","fa fa-plus"]],null,null,null,null,null)),(l()(),e.Sb(-1,null,[" Tambah"])),(l()(),e.zb(13,0,null,null,24,"div",[["class","w-25"]],null,null,null,null,null)),(l()(),e.zb(14,0,null,null,23,"form",[["class","form-horizontal"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(l,n,u){var t=!0,s=l.component;return"submit"===n&&(t=!1!==e.Lb(l,16).onSubmit(u)&&t),"reset"===n&&(t=!1!==e.Lb(l,16).onReset()&&t),"ngSubmit"===n&&(t=!1!==s.doSearch()&&t),t}),null,null)),e.yb(15,16384,null,0,s.C,[],null,null),e.yb(16,540672,null,0,s.i,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),e.Pb(2048,null,s.c,null,[s.i]),e.yb(18,16384,null,0,s.p,[[4,s.c]],null,null),(l()(),e.zb(19,0,null,null,18,"div",[["class","input-group"]],null,null,null,null,null)),e.Pb(512,null,p.F,p.G,[e.v,e.w,e.n,e.J]),e.yb(21,278528,null,0,p.l,[p.F],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Nb(22,{"dea-empty":0}),(l()(),e.zb(23,0,null,null,8,"input",[["class","dea-keywordSearchUser form-control"],["formControlName","userId"],["placeholder","Ketik untuk mencari"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,u){var t=!0;return"input"===n&&(t=!1!==e.Lb(l,27)._handleInput(u.target.value)&&t),"blur"===n&&(t=!1!==e.Lb(l,27).onTouched()&&t),"compositionstart"===n&&(t=!1!==e.Lb(l,27)._compositionStart()&&t),"compositionend"===n&&(t=!1!==e.Lb(l,27)._compositionEnd(u.target.value)&&t),t}),null,null)),e.Pb(512,null,p.F,p.G,[e.v,e.w,e.n,e.J]),e.yb(25,278528,null,0,p.l,[p.F],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Nb(26,{"has-error":0}),e.yb(27,16384,null,0,s.d,[e.J,e.n,[2,s.a]],null,null),e.Pb(1024,null,s.m,(function(l){return[l]}),[s.d]),e.yb(29,671744,null,0,s.g,[[3,s.c],[8,null],[8,null],[6,s.m],[2,s.A]],{name:[0,"name"]},null),e.Pb(2048,null,s.n,null,[s.g]),e.yb(31,16384,null,0,s.o,[[4,s.n]],null,null),(l()(),e.zb(32,0,null,null,2,"div",[["class","input-group-append"]],null,null,null,null,null)),(l()(),e.zb(33,0,null,null,1,"button",[["class","input-group-text dea-blueSearch"],["type","submit"]],null,null,null,null,null)),(l()(),e.zb(34,0,null,null,0,"span",[["class","fas fa-search"]],null,null,null,null,null)),(l()(),e.zb(35,0,null,null,2,"div",[["class","dea-tooltipUser"]],null,null,null,null,null)),(l()(),e.zb(36,0,null,null,1,"span",[["class","dea-tooltipUser-Text mt-2"]],null,null,null,null,null)),(l()(),e.Sb(37,null,["User ID ",""])),(l()(),e.zb(38,0,null,null,25,"div",[],null,null,null,null,null)),(l()(),e.zb(39,0,null,null,21,"table",[["class","table table-hover dea-table"]],null,null,null,null,null)),(l()(),e.zb(40,0,null,null,15,"thead",[],null,null,null,null,null)),(l()(),e.zb(41,0,null,null,14,"tr",[],null,null,null,null,null)),(l()(),e.zb(42,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(l()(),e.Sb(-1,null,["Action"])),(l()(),e.zb(44,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(l()(),e.Sb(-1,null,["User ID"])),(l()(),e.zb(46,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(l()(),e.Sb(-1,null,["Name"])),(l()(),e.zb(48,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(l()(),e.Sb(-1,null,["Email"])),(l()(),e.zb(50,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(l()(),e.Sb(-1,null,["Unit Kerja"])),(l()(),e.zb(52,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(l()(),e.Sb(-1,null,["Cabang"])),(l()(),e.zb(54,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(l()(),e.Sb(-1,null,["Role"])),(l()(),e.zb(56,0,null,null,4,"tbody",[],null,null,null,null,null)),(l()(),e.ob(16777216,null,null,3,null,S)),e.yb(58,278528,null,0,p.m,[e.U,e.R,e.v],{ngForOf:[0,"ngForOf"]},null),e.Nb(59,{itemsPerPage:0,currentPage:1}),e.Mb(0,g.b,[g.e]),(l()(),e.zb(61,0,null,null,2,"div",[["class","dea-pagination"]],null,null,null,null,null)),(l()(),e.zb(62,0,null,null,1,"pagination-controls",[],null,[[null,"pageChange"]],(function(l,n,u){var e=!0;return"pageChange"===n&&(e=!1!==(l.component.page=u)&&e),e}),m.b,m.a)),e.yb(63,49152,null,0,g.c,[],null,{pageChange:"pageChange"}),(l()(),e.ob(0,[[1,2],["loading",2]],null,0,null,y)),(l()(),e.ob(0,[["delete",2]],null,0,null,L))],(function(l,n){var u=n.component;l(n,10,0,e.Db(1,"",u.basePath,"/add-user")),l(n,16,0,u.form);var t=l(n,22,0,0==u.isHidden);l(n,21,0,"input-group",t);var s=l(n,26,0,u.submitted&&!u.form.valid);l(n,25,0,"dea-keywordSearchUser form-control",s),l(n,29,0,"userId");var i=e.Tb(n,58,0,e.Lb(n,60).transform(u.users,l(n,59,0,10,u.page)));l(n,58,0,i)}),(function(l,n){var u=n.component;l(n,9,0,e.Lb(n,10).target,e.Lb(n,10).href),l(n,14,0,e.Lb(n,18).ngClassUntouched,e.Lb(n,18).ngClassTouched,e.Lb(n,18).ngClassPristine,e.Lb(n,18).ngClassDirty,e.Lb(n,18).ngClassValid,e.Lb(n,18).ngClassInvalid,e.Lb(n,18).ngClassPending),l(n,23,0,e.Lb(n,31).ngClassUntouched,e.Lb(n,31).ngClassTouched,e.Lb(n,31).ngClassPristine,e.Lb(n,31).ngClassDirty,e.Lb(n,31).ngClassValid,e.Lb(n,31).ngClassInvalid,e.Lb(n,31).ngClassPending),l(n,37,0,u.fieldMandatory)}))}function C(l){return e.Ub(0,[(l()(),e.zb(0,0,null,null,1,"app-user",[],null,null,null,k,z)),e.yb(1,245760,null,0,o,[h.k,s.e,f.a,v.a,J.y],null,null)],(function(l,n){l(n,1,0)}),null)}var U=e.vb("app-user",o,C,{},{},[]),x=u("IheW");let _=(()=>{class l{constructor(l){this.http=l}getUsers(){return this.http.get("http://100.0.10.116:7001/api/users")}}return l.ngInjectableDef=e.Yb({factory:function(){return new l(e.Zb(x.c))},token:l,providedIn:"root"}),l})();var I=u("xxOi"),N=u("wTG2");u.d(n,"UserModuleNgFactory",(function(){return P}));var P=e.wb(b,[],(function(l){return e.Ib([e.Jb(512,e.l,e.hb,[[8,[c.a,d.a,d.b,d.f,d.g,d.c,d.d,d.e,U]],[3,e.l],e.B]),e.Jb(4608,p.p,p.o,[e.x,[2,p.K]]),e.Jb(4608,s.z,s.z,[]),e.Jb(4608,s.e,s.e,[]),e.Jb(4608,J.y,J.y,[e.l,e.t,J.nb,J.z]),e.Jb(4608,x.j,x.p,[p.c,e.G,x.n]),e.Jb(4608,x.q,x.q,[x.j,x.o]),e.Jb(5120,x.a,(function(l){return[l]}),[x.q]),e.Jb(4608,x.m,x.m,[]),e.Jb(6144,x.k,null,[x.m]),e.Jb(4608,x.i,x.i,[x.k]),e.Jb(6144,x.b,null,[x.i]),e.Jb(4608,x.f,x.l,[x.b,e.t]),e.Jb(4608,x.c,x.c,[x.f]),e.Jb(4608,g.e,g.e,[]),e.Jb(4608,_,_,[x.c]),e.Jb(1073742336,p.b,p.b,[]),e.Jb(1073742336,h.o,h.o,[[2,h.t],[2,h.k]]),e.Jb(1073742336,s.y,s.y,[]),e.Jb(1073742336,s.j,s.j,[]),e.Jb(1073742336,s.v,s.v,[]),e.Jb(1073742336,J.d,J.d,[]),e.Jb(1073742336,J.g,J.g,[]),e.Jb(1073742336,J.h,J.h,[]),e.Jb(1073742336,J.l,J.l,[]),e.Jb(1073742336,J.m,J.m,[]),e.Jb(1073742336,J.t,J.t,[]),e.Jb(1073742336,J.u,J.u,[]),e.Jb(1073742336,J.A,J.A,[]),e.Jb(1073742336,J.C,J.C,[]),e.Jb(1073742336,J.G,J.G,[]),e.Jb(1073742336,J.J,J.J,[]),e.Jb(1073742336,J.M,J.M,[]),e.Jb(1073742336,J.P,J.P,[]),e.Jb(1073742336,J.S,J.S,[]),e.Jb(1073742336,J.X,J.X,[]),e.Jb(1073742336,J.ab,J.ab,[]),e.Jb(1073742336,J.bb,J.bb,[]),e.Jb(1073742336,J.cb,J.cb,[]),e.Jb(1073742336,J.B,J.B,[]),e.Jb(1073742336,I.a,I.a,[]),e.Jb(1073742336,x.e,x.e,[]),e.Jb(1073742336,x.d,x.d,[]),e.Jb(1073742336,N.c,N.c,[]),e.Jb(1073742336,g.a,g.a,[]),e.Jb(1073742336,b,b,[]),e.Jb(256,x.n,"XSRF-TOKEN",[]),e.Jb(256,x.o,"X-XSRF-TOKEN",[]),e.Jb(256,N.d,N.e,[]),e.Jb(1024,h.i,(function(){return[[{path:"",component:o}]]}),[]),e.Jb(256,s.A,"never",[])])}))}}]);